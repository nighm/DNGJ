try{let Z=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},tt=new Z.Error().stack;tt&&(Z._sentryDebugIds=Z._sentryDebugIds||{},Z._sentryDebugIds[tt]="31889386-b7dc-4f41-9bdb-2688fbac0597",Z._sentryDebugIdIdentifier="sentry-dbid-31889386-b7dc-4f41-9bdb-2688fbac0597")}catch(Z){}{let Z=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};Z.SENTRY_RELEASE={id:"20.15.9"}}(()=>{var Z={56310:(h,S,i)=>{"use strict";i.d(S,{sI:()=>s});const b="_cmt",s=a=>a.endsWith(b),x=a=>{if(s(a))throw new Error("bad datKey: "+a);return""+a+b},u=a=>{if(!s(a))throw new Error("bad cmtKey: "+a);return a.slice(0,-b.length)},D="_cur",t=a=>a.endsWith(D),e=a=>{if(t(a))throw new Error("bad datKey: "+a);return""+a+D},r=a=>{if(!t(a))throw new Error("bad curKey: "+a);return a.slice(0,-D.length)}},46664:(h,S,i)=>{"use strict";i.d(S,{A1:()=>H,A9:()=>et,Cp:()=>b.Cp,E8:()=>j,F7:()=>Pt,G8:()=>ht,Gx:()=>l,Jm:()=>it,OJ:()=>A,PK:()=>At,Qs:()=>lt,Qy:()=>yt,SD:()=>St,Tf:()=>o,V7:()=>J,Wr:()=>q,XG:()=>Mt,Xw:()=>ft,Yu:()=>p,bX:()=>_,dC:()=>st,hY:()=>ut,kZ:()=>mt,l9:()=>L,ob:()=>Ot,qi:()=>g,r3:()=>Wt,s_:()=>n,sw:()=>kt,ty:()=>wt,up:()=>Tt,vS:()=>V,vs:()=>xt,wR:()=>K,wZ:()=>Bt,yV:()=>_t,yY:()=>ct,yk:()=>Et,yr:()=>m});var b=i(52781),s=i(46795),x=i(45465),u=i(72907),D=i(79619),t=i(63967);const e=(c,d)=>{const f=new Error("[NO SENTRY] "+c);return Object.assign(f,d),f},r=(c,d)=>fetchGetJSON("/api/upper/web_v1/design/readonly_initial?access_token="+c+"&password="+d),a=async(c,d)=>{const f=d==="inspect"?"read_only":d,w="/api/flat/web_v1/preview/initial?access_token="+c+"&view_mode="+f,C=await fetch(w,{credentials:"same-origin"}),z=await C.json();if(C.status!==200)throw e("[fetchGetHead] failed with "+C.status+": "+w,{status:C.status,error_type:z==null?void 0:z.error_type});return z},p=(c,d)=>(0,s.SN)("/api/upper/web_v1/basics/"+c,{...d}),o=async()=>{let c=[];try{const d=await(0,s.DE)("/api/library/v4/recent_keywords");d!=null&&d.keywords&&(c=d==null?void 0:d.keywords)}catch(d){(0,u.$r)()}return c},n=()=>(0,s.sM)("/api/library/v4/recent_keywords"),l=c=>(0,s.Ds)("/api/library/v4/recent_keywords",{keyword:c}),g=async()=>{if((0,D.Z)())return k();{var c;let d;try{d=await(0,s.DE)("/api/library/v3/project_upper/user_combo_groups")}catch(f){return await(0,u.FY)(f),{}}return{userComboGroupList:(c=d)==null?void 0:c.user_combo_groups}}},k=async()=>{var c;let d;try{d=await(0,s.DE)("/api/library/v3/project_upper/org_combo_groups?org_cid="+MB.user.solo_org.cid)}catch(f){return await(0,u.FY)(f),{}}return{userComboGroupList:(c=d)==null?void 0:c.org_combo_groups}},_=async c=>{var d;let{orgCid:f}=c,w;try{w=await(0,s.DE)("/api/library/v3/project_upper/org_combo_groups?org_cid="+f)}catch(C){return await(0,u.FY)(C),{}}return{orgComboGroupList:(d=w)==null?void 0:d.org_combo_groups}},m=async c=>{const{icon_group:d,market_template:f}=await(0,b.Yk)(c.cid),{source:w,title:C}=d||{},z=await(0,s.DE)(w),ot=x.I1[C]||C||"svg",{iconGroupData:rt}=(0,x.u2)(z,ot);return{iconGroupData:rt,marketTemplate:f}},A=async()=>{const c=MB.user.solo_org.cid;try{const{asset_groups:d=[],assets:f}=await(0,s.Yo)("/api/library/v6/asset_groups?org_cid="+c);return{userAssetGroupList:d,userAssets:f}}catch(d){return(0,u.$r)(),{userAssetGroupList:[],userAssets:[]}}},L=async function(c){c===void 0&&(c="");const d=c||MB.currentOrg.cid;try{const{asset_groups:f,assets:w}=await(0,s.Yo)("/api/library/v6/asset_groups?org_cid="+d);return{orgAssetGroupList:f,orgAssets:w}}catch(f){return(0,u.$r)(),{orgAssetGroupList:[],orgAssets:[]}}},j=async c=>{if((0,D.Z)())return $(c);try{const{asset:d,user_asset:f}=await(0,s.B7)("/api/library/v3/asset_data/me/search_by_url",{image_url:c});return{asset:d,user_asset:f}}catch(d){await(0,u.FY)(d)}},$=async c=>{const d=MB.user.solo_org.cid;try{const{asset:f,flat_asset:w}=await(0,s.B7)("/api/library/v6/assets/search_by_url",{image_url:c,org_cid:d});return{asset:f,user_asset:w}}catch(f){await(0,u.FY)(f)}},q=async(c,d)=>{try{const{asset:f,flat_asset:w}=await(0,s.B7)("/api/library/v6/assets/search_by_url",{image_url:c,org_cid:d});return{asset:f,org_asset:w}}catch(f){await(0,u.FY)(f)}},J=async c=>{if((0,D.Z)())return I(c);try{const{user_asset_group:d}=await(0,s.uP)("/api/library/v4/users/asset_groups/"+c.cid,{...c});return{user_asset_group:d}}catch(d){await(0,u.FY)(d)}},et=async(c,d)=>{const{name:f,parentCid:w=null,position:C}=d,{asset_group:z}=await(0,s.zi)("/api/library/v6/asset_groups",{org_cid:c,name:f,parent_cid:w,position:C});return{asset_group:z}},I=async c=>{const{cid:d,name:f,parent_cid:w,position:C}=c;try{const{asset_group:z}=await(0,s.uP)("/api/library/v6/asset_groups/"+d,{name:f,parent_cid:w,position:C});return{user_asset_group:z}}catch(z){await(0,u.FY)(z)}},H=async c=>{const{cid:d,name:f,parent_cid:w,position:C}=c;try{const{asset_group:z}=await(0,s.uP)("/api/library/v6/asset_groups/"+d,{name:f,parent_cid:w,position:C});return{org_asset_group:z}}catch(z){await(0,u.FY)(z)}},K=async c=>{if((0,D.Z)())return dt(c);try{return await(0,s.uP)("/api/library/v3/asset_data/me/assets/"+c.asset_cid,{...c})}catch(d){await(0,u.FY)(d)}},it=async c=>(await(0,s.SN)("/api/library/v6/asset_groups/",{asset_groups:c})).asset_groups,Wt=async(c,d)=>{const{name:f,groupCid:w}=d;return await(0,s.SN)("/api/library/v6/assets",{cids:c,name:f,group_cid:w})},dt=async c=>{try{return await(0,s.uP)("/api/library/v6/assets",{...c})}catch(d){await(0,u.FY)(d)}},ut=async c=>{let{cids:d,...f}=c;try{return await(0,s.uP)("/api/library/v6/assets",{cids:d,...f})}catch(w){await(0,u.FY)(w)}},ft=async c=>{let{assetCid:d,name:f,groupCid:w}=c;if((0,D.Z)())return Xt({assetCid:d,name:f,groupCid:w});try{await(0,s.B7)("/api/library/v3/asset_data/me/assets",{cid,name:f,group_cid:w})}catch(C){await(0,u.FY)(C)}},Xt=async c=>{let{assetCid:d,name:f,groupCid:w}=c;try{await(0,s.B7)("/api/library/v6/assets",{asset_cid:[d],name:f,group_cid:w})}catch(C){await(0,u.FY)(C)}},Ot=async c=>{let{assetCid:d,name:f,groupCid:w}=c;try{const C=await(0,s.B7)("/api/library/v6/assets",{asset_cid:[d],name:f,group_cid:w});return C==null?void 0:C.cid}catch(C){await(0,u.FY)(C)}},mt=async c=>{let{org_cid:d,name:f,group_cid:w}=c;if((0,D.Z)())return gt({org_cid:d,name:f,group_cid:w});try{return(0,s.B7)("/api/library/v3/asset_data/org/asset_group_from_user",{user_asset_group_cid,org_cid:d,org_asset_group_cid})}catch(C){await(0,u.FY)(C)}},gt=async c=>{let{org_cid:d,name:f,group_cid:w}=c;try{return(0,s.B7)("/api/library/v6/asset_groups",{org_cid:d,name:f,parent_cid:null,group_cid:w,position:-99})}catch(C){await(0,u.FY)(C)}},yt=async c=>{(0,D.Z)()?await vt(c):await(0,s.sM)("/api/library/v3/asset_data/me/assets/"+c.cid)},vt=async c=>{await(0,t.uz)("/api/library/v6/assets",{cids:[c.cid]})},V=async c=>{await(0,t.uz)("/api/library/v6/assets",{cids:[c.cid]})},wt=async c=>{(0,D.Z)()?await bt(c):await(0,s.sM)("/api/library/v3/asset_data/me/asset_groups/"+c)},bt=async c=>{await(0,s.sM)("/api/library/v6/asset_groups/"+c)},_t=async c=>{await(0,s.sM)("/api/library/v6/asset_groups/"+c)},St=c=>(0,s.iv)("/preferences/update",{...c}),lt=async(c,d)=>{if((0,D.Z)())return jt(c,d);try{return await(0,s.uP)("/api/library/v4/users/asset_groups/"+c,{...d})}catch(f){await(0,u.FY)(f)}},jt=async(c,d)=>{const f=MB.user.solo_org.cid;try{return await(0,s.uP)("/api/library/v6/asset_groups/"+c,{...d,org_cid:f})}catch(w){await(0,u.FY)(w)}},Mt=c=>async(d,f)=>{try{const w={...f,org_cid:c};return await(0,s.uP)("/api/library/v6/asset_groups/"+d,{...w})}catch(w){await(0,u.FY)(w)}},ct=async(c,d)=>{let f=null;try{const w=await(0,s.Yo)("/api/community/v1/workspace?category="+c+"&plabel="+d);w!=null&&w.market_templates&&(f=w==null?void 0:w.market_templates)}catch(w){(0,u.$r)()}return f},Pt=async(c,d)=>{let f=null,w=null;try{const C=await(0,s.DE)("/flpak/ww-p2wsearch?"+c);if(C!=null&&C.data){const z=C.data,{user_flat_assets:ot,user_flat_asset_groups:rt,org_flat_assets:Ct,org_flat_asset_groups:Dt}=z.asset||{};return f={...z,asset:{user_assets:ot,user_asset_groups:rt,org_assets:Ct,org_asset_groups:Dt}},w=C.p2mMMap,{data:f,p2mMMap:w}}}catch(C){(0,u.$r)({onClick:z=>z({type:"entry:search-panel:search:from:keyword",payload:{from:d}})})}},xt=async c=>{let d=null;try{const f=await(0,s.DE)("/flpak/ww-p2meta/"+c);f!=null&&f.length&&(d=f)}catch(f){(0,u.$r)()}return d},ht=async c=>{let{currentComboPanel:d,projectMetaCid:f}=c;try{await(0,s.zi)("/flpak/ww-migrate-"+d+"-combo-group/"+f+"?mode=normal")}catch(w){await(0,u.FY)(w)}},Et=async c=>{let{projectBasicCid:d}=c;try{const{userId:f,flatKey:w}=await(0,s.DE)("/api/flat/web_v1/proj2-edit-info?prj2Cid="+d);return{userId:f,flatKey:w}}catch(f){await(0,u.FY)(f)}},Rt=async c=>{let{projectBasicCid:d,accessToken:f,password:w}=c;try{const{userId:C,flatKey:z}=await fetchGetJSON("/api/flat/web_v1/proj2-preview-info?prj2Cid="+d+"&access_token="+f+"&password="+w);return{userId:C,flatKey:z}}catch(C){await apiErrorModals(C)}},Tt=c=>(0,s.DE)("/api/dsh2/web_v1/org_entry/"+c),kt=async c=>{const{project:d}=await(0,s.DE)("/api/dashboard/v5/projects/"+c);return d},Bt=async c=>(0,s.DE)("/api/upper/web_v1/basics/statstics/"+c),st=async()=>{try{const{result:c}=await(0,s.DE)("/api/community/v1/community/scene_tag_labels?label_type=combo_group");return c}catch(c){console.log(c)}},At=async c=>{try{const{stickers:d}=await(0,s.zi)("/api/community/v1/sticker_search_es",{q:c,page:1,page_size:200});return d}catch(d){return console.log(d),[]}}},41449:(h,S,i)=>{"use strict";i.d(S,{Dw:()=>s,H:()=>u,QQ:()=>e,X9:()=>t,o$:()=>b});const b="/proto",s=p=>b+"/"+p,x=p=>{const o=/^\/proto\/design\/(?:([^/]+?))$/i.exec(p);return o?o[1]:new Error("project cid error")},u=p=>{let{search:o,pathname:n}=p;if(n.includes("/sharing"))return n.includes("dashboard")||n.includes("htmlzip")?n.split("/").at(-3):n.includes("embed/v2")?location.pathname.split("/").at(-4):n.split("/").at(-2);{const l=new URLSearchParams(o).get("token");if(l)return l;const g=/^\/proto\/([^/]+?)(?:\/forum|\/uichina|\/embed|\/embed\/v2|\/htmlzip|\/sharing|\/ro)?\/?$/i.exec(n);return g?g[1]:""}},D=p=>{let{pathname:o}=p;const n=/^\/proto\/design\/([^/]+)\/?$/i.exec(o);return n?n[1]:""},t=p=>{let{search:o,pathname:n}=p;return u({search:o,pathname:n})||D({pathname:n})},e="/p2mkt_view",r=p=>e+"/"+p,a=p=>/^\/p2mkt_view\/(?:([^/]+?))$/i.exec(p)[1]},44580:(h,S,i)=>{"use strict";i.d(S,{LN:()=>p,o0:()=>D,uC:()=>e,uT:()=>t});var b=i(53955),s=i(42781),x=i(44864);const u=()=>MB.action?MB.__store__.dispatch:MB.webpackInterface.store.dispatch,D=function(o,n){n===void 0&&(n=sdkStore);const l=new Set;return n.walkHotItemSubtree2(o,g=>{g.hotAttr.mktCid&&l.add(g.hotAttr.mktCid)}),[...l]},t=async o=>{const n=(0,b.fV)();if(!n)return{mdWMMktList:new Set,mtWMMktList:new Set,noWMMktList:new Set};const{mdWMMktList:l,mtWMMktList:g,noWMMktList:k}=n,_=o.filter($=>!l.has($)&&!g.has($)&&!k.has($)),m=await(0,s.E5)(_),A=new Set([...l].concat(m.mdWMMktList)),L=new Set([...g].concat(m.mtWMMktList)),j=new Set([...k].concat(m.noWMMktList));return u()({type:"reducer:watermark:update-state",payload:{mdWMMktList:A,mtWMMktList:L,noWMMktList:j}}),{mdWMMktList:A,mtWMMktList:L,noWMMktList:j}},e=o=>{const n=(0,b.fV)();if(!n)return{mdWMMktList:new Set,mtWMMktList:new Set,noWMMktList:new Set};const{mdWMMktList:l,mtWMMktList:g,noWMMktList:k}=n,_=new Set([...l]),m=new Set([...g]),A=new Set([...k]),L=new Set([...o]);return sdkStore.walkHotItemSubtree2(x.$k,j=>{if(L.has(j.hotAttr.mktCid)&&L.delete(j.hotAttr.mktCid),L.size===0)return!0}),L.forEach(j=>{_.delete(j),m.delete(j),A.delete(j),(0,s.g7)(j)}),u()({type:"reducer:watermark:update-state",payload:{mdWMMktList:_,mtWMMktList:m,noWMMktList:A}}),{mdWMMktList:_,mtWMMktList:m,noWMMktList:A}},r=async()=>{const o=new Set;sdkStore.walkHotItemSubtree2(KEY_RB_MAIN,_=>{_.hotAttr.mktCid&&o.add(_.hotAttr.mktCid)});const n=await splitMktListByCid([...o]),l=new Set(n.mdWMMktList),g=new Set(n.mtWMMktList),k=new Set(n.noWMMktList);return u()({type:"reducer:watermark:update-state",payload:{mdWMMktList:l,mtWMMktList:g,noWMMktList:k}}),{mdWMMktList:l,mtWMMktList:g,noWMMktList:k}},a=()=>{const o=new Set;sdkStore.walkHotItemSubtree2(KEY_RB_MAIN,k=>{k.hotAttr.mktCid&&o.add(k.hotAttr.mktCid)});const n=new Set,l=new Set,g=new Set(o);u()({type:"reducer:watermark:update-state",payload:{mdWMMktList:n,mtWMMktList:l,noWMMktList:g}})},p=o=>{const n=new Set((o==null?void 0:o.md_vip_mkt_list)||[]),l=new Set((o==null?void 0:o.mt_vip_mkt_list)||[]),g=new Set((o==null?void 0:o.no_wm_mkt_list)||[]);u()({type:"reducer:watermark:update-state",payload:{mdWMMktList:n,mtWMMktList:l,noWMMktList:g}})}},42276:(h,S,i)=>{"use strict";var b=i(26114),s=i(94947),x=i(13005),u=i(56656);const D={"sk-bouncedelay":"ZdD58bXGNcNoQjiPeXLu"},t={"sk-bouncedelay":"ZBrU7Yes6CevGkk6hArA"};i(16708),i(85991),i(97381);var e=i(74059),r=i(51044),a=i(46479),p=i(14804),o=i(72605),n=i(36805),l=i(54852),g=i(55793),k=i(39271),_=i(49269),m=i(57464);class A extends r.PureComponent{constructor(y){super(y),(0,e.A)(this,"handleGetViewMode",()=>{var Y;const{store:R,isHtmlZip:F}=this.props,N=new URLSearchParams(location.search).get("view_mode");return F?R==null||(Y=R.getState())==null||(Y=Y.editor)==null||(Y=Y.state)==null||(Y=Y.mode)==null?void 0:Y.previewViewMode:N});const{store:E,projectBasic:T,projectMeta:B,isHtmlZip:X}=y,O=new URLSearchParams(location.search);let G="",v="";const M=O.get("view_mode");["read_only","inspect"].includes(M)&&(G=O.get("screen")||"",v=O.get("canvasId")||""),this.state={visibleIsEmpty:!1};try{const Y=(0,k.rV)(G);E.dispatch({type:"entry:root-project:readOnly:activate",payload:{projectBasic:T,projectMeta:B,screenCid:Y,canvasCid:v,isHtmlZip:X}})}catch(Y){this.state={visibleIsEmpty:!0}}}componentDidMount(){this.props.onComponentDidMount(),window.addEventListener("message",_.a,!1),this.handleGetViewMode()==="inspect"&&MB.__store__.dispatch({type:"entry:handle-tool:toggle:inspect-mode",payload:{mode:!0}})}componentWillUnmount(){window.removeEventListener("message",_.a,!1)}render(){const{store:y}=this.props;return this.state.visibleIsEmpty?(0,g.V)():(0,m.jsx)(o.Kq,{store:y,children:(0,m.jsx)(l.A,{children:(0,m.jsx)(n.A,{})})})}}var L=i(82218);const j=async W=>{let{projectMetaCid:y}=W;await(0,L.F2)({userId:void 0,flpakKey:y,onTransferError:L.z0,onReadOnlyError:L.sH,isDummyCmt:!0,__fetchFlpakAsync:s.BD},void 0)};var $=i(98148);const q=function(W,y,E){const T=y.getGuidesData()||"[]",B=new Set(JSON.parse(T)),X=new Set,O=new Map,G={checkGuideHasShown:v=>ENV.IS_ON_PREMISES||B.has(v),checkGuideToBeShown:v=>X.has(v),getState:()=>({commonGuidesHasShown:Array.from(B),commonGuidesToBeShown:Array.from(X),mountGuidesMap:O}),tryToShowGuide:v=>{var M;if(B.has(v)||!((M=MB)!=null&&(M=M.user)!=null&&M.id)||ENV.IS_ON_PREMISES)return;const Y=document.getElementById("MD_"+v);if(Y){Y.style.display="block";return}X.add(v),(0,$.o)(v,W,E)},markGuideAsRead:v=>{B.add(v),y.setGuidesData(JSON.stringify(Array.from(B)))},batchMarkGuideAsRead:v=>{v.forEach(M=>B.add(M)),y.setGuidesData(JSON.stringify(Array.from(B)))},closeAndMarkGuideAsRead:v=>{G.checkGuideHasShown(v)||(G.closeGuide(v),G.markGuideAsRead(v))},closeGuide:v=>{const M=document.getElementById("MD_"+v);M&&M.parentNode&&M.parentNode.removeChild(M)},closeAllGuide:()=>{const v=document.getElementById("GUIDES");v&&v.parentNode&&v.parentNode.removeChild(v)},removeGuide:v=>{B.delete(v),y.setGuidesData(JSON.stringify(Array.from(B)))},tryToContinueMountGuide:(v,M)=>{const Y=O.get(v);Y&&typeof(Y==null?void 0:Y.handleContinue)=="function"&&Y.handleContinue(M)},tryToResizeMountGuide:v=>{const M=O.get(v);M&&typeof(M==null?void 0:M.handleResize)=="function"&&M.handleResize()},tryToCloseMountGuide:v=>{const M=O.get(v);M&&typeof(M==null?void 0:M.handleClose)=="function"&&M.handleClose()},registerMountGuideCallback:(v,M)=>{const Y=O.get(v)||{};O.set(v,{...Y,...M})},removeMountGuideCallback:(v,M)=>{if(!M){O.delete(v);return}const Y=O.get(v)||{};O.set(v,{...Y,[M]:void 0})}};return G},J=W=>{let{store:y,commonGuidesData:E,isDesign:T,isPreview:B}=W;MB.commonGuideHelper=q(y,{getGuidesData:()=>E,setGuidesData:updateUserCommonGuidesData},{isDesign:T,isPreview:B})},et=W=>{let{store:y,isDesign:E,isPreview:T}=W;const B={guide:{dashboard_guides:"",workspace_guides:"",square_guides:null,workspace_guides_version:"",default_team_cid:"",root_project_team_cid:"",workspace_guides_2203:"",workspace_guides_2203_version:"",aboard_guides:""},guide_project_template_cid:"",guide_project_template_2203_cid:"",guide_flow_template_cid:"",guide_design_template_cid:"",guide_prototype_template_cid:""},{guide:{workspace_guides:X}}=B;MB.commonGuideHelper=q(y,{getGuidesData:()=>X,setGuidesData:()=>{}},{isDesign:E,isPreview:T})};var I=i(77757),H=i(25058),K=i(88753),it=i(42226),Wt=i(68673),dt=i(29601),ut=i(79619);const ft=W=>{let{initialData:y,designOptions:E,global:T,onUpdateSharing:B}=W;const{user:X,org:O,team:G,preference:v,orgList:M,user_fcg:Y,org_fcg:R,space:F,canEditByCurrentUser:U}=y,{currentUser:N,currentOrg:Q}=(0,ut.n)({user:X,org:O});(0,it.kZ)((0,dt.w)()),Object.assign(MB,{user:N||{},orgList:M,currentOrg:Q,canEditByCurrentUser:U,global:{...T,popupHelper:(0,H.L)(),experienceLoginModalHelper:I.F}}),MB.action("current:update:state",{currentOrg:Q,currentTeam:G,currentUser:N,orgList:M,user_fcg:Y,org_fcg:R,currentSpace:F}),MB.action("update:design:options",{designOptions:E}),X!=null&&X.id&&MB.action("entry:init:preference",{preference:v}),B&&B()},Xt=async W=>{let{designStore:y}=W,E="[]";try{const{guide:T}=await requestUserCommonGuidesData();E=T==null?void 0:T.workspace_guides}catch(T){console.error("\u83B7\u53D6 guide_data \u5931\u8D25")}await initCommonGuide({store:y,commonGuidesData:E,isDesign:!0,isPreview:!1})},Ot=async W=>{let{type:y,projectBasicCid:E}=W;switch(y){case DesignType.Design:return requestProjectFullDataFlat(E);case DesignType.Experience:return requestExperienceFullDataFlat(E);default:throw new Error(y+" not found in known design types for "+E)}};var mt=i(4601),gt=i(64334),yt=i(60310),vt=i(12201),V=i(9376);const wt=W=>{const{isEmbedV1:y=!1}=W||{};return{isDesktop:!((0,V.Fr)()||y),isInApp:!1,isMultiLink:!1,isMobile:(0,V.Fr)(),isIOSClient:(0,V.Hv)(),isStandAlone:(0,V.Gd)(),isEmbedV1:y,isEmbedV2:!1,isHTMLZip:!1,isUIChina:(0,V.II)(),isForum:(0,V.uf)(),isElectron:(0,V.b8)(),isSquare:!1,isFeishu:(0,V.Fl)(),isWechat:(0,V.vq)(),...W}},bt=W=>{const{isMobile:y,isEmbedV2:E,isSquare:T}=W;return y?yt.A:E||T?gt.A:vt.A};var _t=i(44580);const St=W=>{let{designOptions:y,previewOptions:E,initialData:T,WMListConfig:B,onComponentDidMount:X,sharing:O}=W,G=!1;const v=(0,p.s)(MB);ft({initialData:T,designOptions:y,global:{designOptions:y,previewOptions:E}}),(0,_t.LN)(B);const{isIOSClient:M,isStandAlone:Y}=E;(Y||M)&&(document.documentElement.style.height="100vh");const{runnerController:R,messageBucket:F,webpackInterface:U,PreviewApp:N}=(0,mt._)(bt(E));return Object.assign(MB,{runnerController:R,messageBucket:F,webpackInterface:U,global:{...MB.global||{},popupHelper:(0,H.L)(),designOptions:y,previewOptions:E}}),MB.webpackInterface.store.dispatch({type:"preview:update:state",payload:{previewOptions:E}}),{requestData:async Q=>{const{user:nt,org:at,preference:pt,project_basic:Lt,project_meta:It}=T;return et({store:v,isDesign:!0,isPreview:!1}),Object.assign(MB,{tag:Lt==null?void 0:Lt.version}),MB.action("update:design:options",{designOptions:MB.global.designOptions}),await j({projectMetaCid:It.cid}),MB.webpackInterface.store.dispatch({type:"preview:set:current-projectShare",payload:{projectShare:O}}),MB.webpackInterface.store.dispatch({type:"entry:init:preview:preference",payload:{preference:pt||{}}}),MB.action("entry:handle-tool:preview:view_mode",{previewViewMode:Q}),Object.assign(MB,{user:nt||{},canEditByCurrentUser:!1,org:at||void 0}),MB.webpackInterface.store.dispatch({type:"entry:state:init"}),G=!0,{projectAlike:Lt,projectMeta:It,projectShare:O}},renderDesign:Q=>{let{projectAlike:nt,projectMeta:at}=Q;return G?(0,m.jsx)(A,{store:v,projectBasic:nt,projectMeta:at,onComponentDidMount:X,isHtmlZip:!0}):null},renderPreview:Q=>{let{projectAlike:nt,projectMeta:at,projectShare:pt}=Q;return G?((0,g.X)(pt),(0,m.jsx)(N,{store:U.store,previewMode:"preview",projectAlike:nt,projectMeta:at,projectShare:pt})):null}}};var lt=i(21676);const jt=lt.Ay.div.withConfig({displayName:"styles__StyledExampleApp",componentId:"sc-1r36j4k-0"})(["&{position:absolute;top:0;left:0;bottom:0;right:0;transition:all 0.2s ease-in-out;.loading-container{position:absolute;top:50%;left:50%;.mb-loading{width:80px;height:80px;margin-top:-40px;margin-left:-40px;}.chris-icon{position:absolute;left:68%;top:-8%;}}}.mb-design-page{height:100%;&,#mb-toolbar{transition:all 0.2s ease-in-out;}&.is-collapse{opacity:0;z-index:0;#mb-toolbar{transform:translateY(-100%);}.mb-right-panel{transform:translateX(100%);}}}.mb-preview-page{position:absolute;top:0;left:0;width:100%;bottom:0;font-size:12px;transition:all 0.2s ease-in-out;&.is-collapse{opacity:0;z-index:0;}}"]),Mt=lt.Ay.div.withConfig({displayName:"styles__StyledROExampleApp",componentId:"sc-1r36j4k-1"})(["&{position:absolute;top:0;left:0;bottom:0;right:0;transition:all 0.2s ease-in-out;.loading-container{position:absolute;top:50%;left:50%;.mb-loading{width:80px;height:80px;margin-top:-40px;margin-left:-40px;}.chris-icon{position:absolute;left:68%;top:-8%;}}}.mb-design-page{height:100%;position:relative;z-index:1;&.is-collapse{opacity:0;z-index:0;}}.mb-preview-page{position:absolute;top:0;left:0;width:100%;bottom:0;font-size:12px;&.is-collapse{opacity:0;z-index:0;}}"]);var ct=i(1694),Pt=i(21952),xt=i(86634),ht=i.n(xt);class Et extends r.PureComponent{render(){const{isCollapse:y,renderReadOnly:E,projectAlike:T,projectMeta:B}=this.props;return(0,m.jsx)("div",{ref:X=>this.$element=X,className:ht()("mb-design-page",{"is-collapse":y}),children:E({projectAlike:T,projectMeta:B})})}}class Rt extends r.PureComponent{constructor(y){super(y),(0,e.A)(this,"setElementRef",E=>this.$element=E),MB.f.inPreview=!y.isCollapse}componentDidMount(){this.$element.addEventListener("wheel",this.handleWheel,{passive:!1})}componentWillUnmount(){MB.f.inPreview=!1,this.$element.removeEventListener("wheel",this.handleWheel)}handleWheel(y){(y.ctrlKey||y.metaKey)&&y.preventDefault()}render(){const{isCollapse:y,renderPreview:E,projectAlike:T,projectMeta:B,projectShare:X}=this.props;return(0,m.jsx)("div",{ref:this.setElementRef,className:ht()("mb-preview-page",{"is-collapse":y}),children:E({projectAlike:T,projectMeta:B,projectShare:X})})}}var Tt=i(39348),kt=i(14941),Bt=i(86431),st=i(24013),At=i(31900),c=i(15139),d=i(40684),f=i(76445),w=i(6637);const C=W=>{const{current:{currentProject:y},ui:{toolbar:{isShowSticky:E},leftLayout:{leftPanel:{show:T,width:B},directory:{screen:{currentPage:X},bottom:{height:O},screen:{screenCollapseKeySet:G}}},rightLayout:{rightPanel:{show:v,resizedWidth:M}},fixedLayout:{modals:{previewCanvasModal:Y,previewModal:R}}},editor:{state:{mode:{fullScreenMode:F}}}}=MB.__store__.getState(),U=()=>{MB.__store__.dispatch({type:"entry:handle-tool:preview:view_mode",payload:{previewViewMode:"device"}});const{pageKey:N,canvasKey:Q}=c.A.validateAndTryCorrectPGAndCVKey(X.key,W,null,y.category===d.t_);MB.webpackInterface.store.dispatch({type:"entry:runner:activate:canvas",payload:{pageKey:N,canvasKey:Q,saveHistory:!1,forceInit:!0,keepScale:!1}}),MB.webpackInterface.store.dispatch({type:"preview:set:leftPaneWidth",payload:{leftPaneWidth:B!=null?B:250}}),MB.webpackInterface.store.dispatch({type:"preview:update:state",payload:{hasChangedScaleManually:!1}}),MB.webpackInterface.store.dispatch({type:"preview:panel:set:height",payload:{panelHeight:O}}),MB.webpackInterface.store.dispatch({type:"preview:set:rightPaneWidth",payload:{rightPaneWidth:M,projectCid:y.cid}}),F&&MB.webpackInterface.store.dispatch({type:"reducer:preview-toolbar:fullscreen",payload:{isFullScreenMode:!0}}),MB.webpackInterface.store.dispatch({type:"ST:update",payload:{STMode:E}}),MB.webpackInterface.store.dispatch({type:"entry:preview-setting:toggle:isMinimized",payload:{isMinimized:!T,isMemorize:!F}}),MB.webpackInterface.store.dispatch({type:"entry:preview-setting:toggle:rightPane",payload:{isShowRightPane:v,isMemorize:!F}}),MB.webpackInterface.store.dispatch({type:"preview:set:collapsedRBPageKeySet",payload:{collapsedRBPageKeySet:G}}),MB.webpackInterface.store.dispatch({type:"entry:preview:toggle:isHiddenToolBar",payload:{value:!1}}),MB.action("modal:reset:state"),MB.action("entry:exit:edit:basket"),MB.__store__.dispatch({type:"entry:comment:disabled",payload:{noWigglingCommentCid:!0}}),MB.__store__.dispatch({type:"versions:update",payload:{isVersionManagementPaneShow:!1}}),MB.__store__.dispatch(f.GO.toggleInspectMode(!1)),MB.__store__.dispatch(f.GO.toggleHandMode(!1)),MB.__store__.dispatch(f.GO.select([])),MB.__store__.dispatch({type:"elbow:update",payload:{isInElbowMode:!1}}),MB.__store__.dispatch({type:"entry:ST:STMode:disable"}),MB.__store__.dispatch({type:"ST:clear"})};Y!=null&&Y.isOpen||R!=null&&R.isOpen?(MB.action("modal:reset:preview:modal:state"),setTimeout(()=>{U()},600)):U()},z=(W,y,E)=>{const{container:{current:{rootProject:T},common:{leftPaneWidth:B,panelHeight:X,rightPaneWidth:O,collapsedRBPageKeySet:G},runner:{activePageKey:v},previewSetting:{isFullScreenMode:M,isMinimized:Y,isShowRightPane:R}},ST:{STMode:F}}=MB.webpackInterface.store.getState(),{ui:{leftLayout:{directory:{screen:{currentPage:U}}}},editor:{state:{mode:{isHtmlZipPreview:N}}}}=MB.__store__.getState();E==="inspect"?(MB.__store__.dispatch({type:"entry:comment:disabled"}),MB.__store__.dispatch(f.GO.toggleInspectMode(!1)),MB.__store__.dispatch(f.GO.toggleHandMode(!1)),MB.__store__.dispatch(f.GO.select([]))):(U.key!==v&&MB.__store__.dispatch({type:"entry:root-project:readOnly:activate",payload:{projectBasic:W,projectMeta:y,screenCid:v,isHtmlZip:N}}),MB.__store__.dispatch({type:"screen:add:collapseKeySet",payload:{refs:G,projectCid:T.cid}}),M&&MB.__store__.dispatch(f.GO.toggleFullScreenMode(!0)),MB.webpackInterface.store.dispatch({type:"entry:runner:cleanup:audio"}),MB.webpackInterface.store.dispatch({type:"runner:reset:state:except:history"}),MB.webpackInterface.store.dispatch({type:"container:comment:reset:state"}),MB.webpackInterface.store.dispatch({type:"preview:previewPanel:navindex",payload:{previewPanelNavIndex:0}}),MB.__store__.dispatch({type:"left-panel:set:width",payload:{width:B,projectCid:T.cid}}),MB.__store__.dispatch({type:"directory-panel:bottom:set:height",payload:{height:X}}),MB.__store__.dispatch({type:"right-side-panel:update:resize:width",payload:{width:O,projectCid:T.cid}}),MB.__store__.dispatch({type:"right-side-panel:collapse:panel",payload:{show:R,isMemorize:!M}}),MB.__store__.dispatch({type:"left-panel:collapse:panel:show",payload:{show:!Y,isMemorize:!M}}),MB.__store__.dispatch({type:"entry:observe:dom:size:update-viewport-rect"}),MB.__store__.dispatch({type:"entry:isShowSticky:toggle",payload:{isShowSticky:F}}),requestAnimationFrame(()=>MB.__store__.dispatch({type:"entry:update:viewport:rect"})),MB.webpackInterface.store.dispatch({type:"entry:comment:disabled"}),(0,w.RF)(v))},ot=(W,y,E)=>{if(E!=="read_only"){const{container:{current:{rootProject:T},common:{leftPaneWidth:B,panelHeight:X,rightPaneWidth:O,collapsedRBPageKeySet:G},runner:{activePageKey:v},previewSetting:{isFullScreenMode:M,isMinimized:Y,isShowRightPane:R}},ST:{STMode:F}}=MB.webpackInterface.store.getState(),{ui:{leftLayout:{directory:{screen:{currentPage:U}}}},editor:{state:{mode:{isHtmlZipPreview:N}}}}=MB.__store__.getState();U.key!==v&&MB.__store__.dispatch({type:"entry:root-project:readOnly:activate",payload:{projectBasic:W,projectMeta:y,screenCid:v,isHtmlZip:N}}),MB.__store__.dispatch({type:"screen:add:collapseKeySet",payload:{refs:G,projectCid:T.cid}}),M&&MB.__store__.dispatch(f.GO.toggleFullScreenMode(!0)),MB.webpackInterface.store.dispatch({type:"entry:runner:cleanup:audio"}),MB.webpackInterface.store.dispatch({type:"runner:reset:state:except:history"}),MB.webpackInterface.store.dispatch({type:"container:comment:reset:state"}),MB.webpackInterface.store.dispatch({type:"preview:previewPanel:navindex",payload:{previewPanelNavIndex:0}}),MB.__store__.dispatch({type:"left-panel:set:width",payload:{width:B,projectCid:T.cid}}),MB.__store__.dispatch({type:"directory-panel:bottom:set:height",payload:{height:X}}),MB.__store__.dispatch({type:"right-side-panel:update:resize:width",payload:{width:O,projectCid:T.cid}}),MB.__store__.dispatch({type:"right-side-panel:collapse:panel",payload:{show:R,isMemorize:!M}}),MB.__store__.dispatch({type:"left-panel:collapse:panel:show",payload:{show:!Y,isMemorize:!M}}),MB.__store__.dispatch({type:"entry:observe:dom:size:update-viewport-rect"}),MB.__store__.dispatch({type:"entry:isShowSticky:toggle",payload:{isShowSticky:F}}),requestAnimationFrame(()=>{MB.__store__.dispatch({type:"entry:update:viewport:rect"})}),(0,w.RF)(v)}MB.__store__.dispatch({type:"entry:handle-tool:toggle:inspect-mode",payload:{mode:!0}})};class rt extends r.PureComponent{constructor(y){super(y),(0,e.A)(this,"handleWheelChanged",R=>{if(R.deltaX===0)return;const F=document.getElementById("workspace"),U=F.scrollLeft+F.offsetWidth===F.scrollWidth&&R.deltaX>0,N=F.scrollLeft===0&&R.deltaX<0;(U||N)&&R.preventDefault()}),(0,e.A)(this,"handleDesignDidMount",()=>{MB.reduxEntry.setEntryMap(Tt.T),this.setState({isLoading:!1})}),(0,e.A)(this,"keyboardManager",new ct.Rr);const{viewMode:E,designOptions:T,previewOptions:B,initialData:X,WMListConfig:O,sharing:G}=y;MB.switchToPreview=R=>{this.state.viewMode!=="device"&&((0,st.N8)("device"),C(R),this.setState({viewMode:"device"}))},MB.switchToReadOnly=()=>{if(this.state.viewMode==="read_only")return;const{projectAlike:R,projectMeta:F,viewMode:U}=this.state;(0,st.N8)("read_only"),z(R,F,U),this.setState({viewMode:"read_only"})},MB.switchToInspect=()=>{if(this.state.viewMode==="inspect")return;const{projectAlike:R,projectMeta:F,viewMode:U}=this.state;(0,st.N8)("inspect"),ot(R,F,U),this.setState({viewMode:"inspect"})},this.state={isLoading:!0,isDataLoaded:!1,viewMode:E,projectAlike:null,projectMeta:null,projectShare:void 0};const{requestData:v,renderDesign:M,renderPreview:Y}=St({initialData:X,WMListConfig:O,designOptions:T,previewOptions:B,onComponentDidMount:this.handleDesignDidMount,sharing:G});this.requestData=v,this.renderDesign=M,this.renderPreview=Y}componentDidMount(){Promise.all([this.requestData(this.state.viewMode)]).then(y=>{let[{projectAlike:E,projectMeta:T,projectShare:B}]=y;this.setState({projectAlike:E,projectMeta:T,projectShare:B},()=>{this.setState({isDataLoaded:!0})});const X=document.getElementById("workspace");X&&X.addEventListener("wheel",this.handleWheelChanged)})}componentWillUnmount(){const y=document.getElementById("workspace");y&&y.removeEventListener("wheel",this.handleWheelChanged,{capture:!0})}render(){const{isLoading:y,isDataLoaded:E,viewMode:T,projectAlike:B,projectMeta:X,projectShare:O}=this.state,{renderDesign:G,renderPreview:v}=this;return(0,m.jsx)(At.G.Provider,{value:T,children:(0,m.jsx)(ct.M.Provider,{value:this.keyboardManager,children:(0,m.jsx)(Pt.$,{children:(0,m.jsxs)(Mt,{className:"example-app",children:[E&&(0,m.jsx)(Et,{isCollapse:!["read_only","inspect"].includes(T),projectAlike:B,projectMeta:X,renderReadOnly:G}),E&&(0,m.jsx)(Rt,{isCollapse:T!=="device",projectAlike:B,projectMeta:X,projectShare:O,renderPreview:v}),y&&(0,m.jsxs)("div",{className:"loading-container",children:[(0,m.jsx)(a.Tw,{className:"mb-loading"}),(0,Bt.X)()&&(0,m.jsx)(kt.n,{className:"chris-icon"})]})]})})})})}}var Ct=i(98794),Dt=i(88223),Ht=i(10286),Gt=i(36429);i.p="./mb-proto2/";const zt=document.getElementById("workspace"),Ft=async()=>{var W,y;const E=wt({isHTMLZip:!0});(0,V.Fr)()&&((W=document.querySelector("body"))==null||W.classList.add("mobile"));let T=await(0,s.Rz)();const{projectUpper:B,projectMeta:X}=T;T={...T,projectName:B.name,project_basic:B,project_meta:X};const{sharing:O}=await(0,Ht.J_)({project:B}),G=await(0,s.CS)(),{generateLang:v}=await Gt.qu.loadLLG();await v(),document.title=""+(0,Dt.qk)(B.name||B.title),!ENV.IS_ON_PREMISES&&(0,Ct.I2)();const M=(y=new URLSearchParams(location.search))==null?void 0:y.get("view_mode"),Y=window.HZv5_PREVIEW_MODE||"",R=M||Y,F=["device","read_only","inspect"].includes(R)?R:"read_only",U={isDesign:!0,isExperience:!1,isLoggedExperience:!1};(0,b.createRoot)(zt).render((0,m.jsx)(rt,{initialData:T,WMListConfig:G,viewMode:F,designOptions:U,previewOptions:E,sharing:O}))};document.addEventListener("DOMContentLoaded",async()=>{await Ft()})},9376:(h,S,i)=>{"use strict";i.d(S,{Bd:()=>j,Fl:()=>t,Fr:()=>o,Gd:()=>_,H8:()=>r,Hv:()=>k,II:()=>m,Md:()=>L,VK:()=>et,b8:()=>x,cX:()=>u,gm:()=>a,lg:()=>$,m0:()=>n,nr:()=>p,uF:()=>D,uf:()=>A,un:()=>g,vq:()=>e});var b,s;const x=()=>window.MB_DESKTOP_VERSION||window.isElectron||/Electron/i.test(navigator.userAgent),u=()=>/(Macintosh)/i.test(navigator.userAgent),D=()=>/(Windows)/i.test(navigator.userAgent),t=()=>/(Lark)/i.test(navigator.userAgent),e=()=>/MicroMessenger/i.test(navigator.userAgent),r=()=>/Chrome/i.test(navigator.userAgent),a=()=>/Firefox/i.test(navigator.userAgent),p=()=>/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent),o=()=>{const I=new URLSearchParams(location.search);return I&&I.get("inapp")==="1"&&(i.g.isInAPP=!0),/(iPod|iPhone|iPad|Android|MobileClient)/.test(navigator.userAgent)||window.isInAPP},n=()=>/Android/i.test(navigator.userAgent),l=()=>/(iPad)/.test(navigator.userAgent),g=()=>/(iPod|iPhone|iPad)/.test(navigator.userAgent),k=()=>!!(window.webkit&&window.webkit.messageHandlers),_=()=>navigator.standalone,m=()=>/\/uichina$/.test(location.pathname),A=()=>/\/forum$/.test(location.pathname),L=()=>/(MobileClient)/.test(navigator.userAgent),j=!!(typeof window<"u"&&window.document&&window.document.createElement),$=/(mac|iphone|ipod|ipad)/i.test(typeof navigator<"u"?((b=navigator)==null?void 0:b.platform)||((s=navigator)==null||(s=s.userAgentData)==null?void 0:s.platform):""),q=()=>{var I;if(!((I=navigator)!=null&&I.plugins))return!1;for(const H in navigator.plugins)if(navigator.plugins[H]&&navigator.plugins[H].filename==="np-mswmp.dll")return!0;return!1},J=I=>{I=I.toLowerCase();const H=I.includes("qihu"),K=I.includes("360se"),it=I.includes("360ee");return H&&(K||it)},et=()=>{let I,H;const K=navigator.userAgent;if(H=void 0,I=K.match(/(opera|chrome|qq|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],/trident/i.test(I[1]))return H=/\brv[ :]+(\d+)/g.exec(K)||[],{name:"IE",version:parseFloat(H[1]||"")};if(I[1]==="Chrome"){if(J(K)||q())return{name:"360Browser",version:"unknown"};if(/Edg/i.test(K))return H=K.match(/Edg\/(\d+)/i),{name:"Edge",version:H?parseFloat(H[1]):"unknown"};if(H=K.match(/\b(OPR|Edge)\/(\d+)/),H!==null)return{name:H[1].replace("OPR","Opera"),version:parseFloat(H[2])}}return/QQBrowser/i.test(K)?(H=K.match(/QQBrowser\/(\d+)/i),{name:"QQBrowser",version:H?parseFloat(H[1]):"unknown"}):(I=I[2]?[I[1],I[2]]:[navigator.appName,navigator.appVersion,"-?"],(H=K.match(/version\/(\d+)/i))!==null&&I.splice(1,1,H[1]),{name:I[0],version:parseFloat(I[1])})}},6637:(h,S,i)=>{"use strict";i.d(S,{Fw:()=>t,H1:()=>r,RF:()=>o,cL:()=>a,fl:()=>p,hw:()=>e,u5:()=>x,yA:()=>D});var b=i(12298),s=i(6795);const x=n=>{let{width:l,height:g,scale:k}=n;const _=k/100,m=document.querySelector("#canvas").getBoundingClientRect(),A=document.querySelector(".mb-viewport").getBoundingClientRect(),L={x:(A.left+A.right)/2,y:(A.top+A.bottom)/2},j={x:(L.x-m.left)/_,y:(L.y-m.top)/_};return{top:Math.round(j.y-g/2),left:Math.round(j.x-l/2)}},u=(n,l)=>{const g=document.querySelector(n);if(!g)return;const k=g.querySelector('[data-cid="'+l+'"]')||g.querySelector('[data-interactive-target-key="'+l+'"]');if(!k)return;const{height:_,top:m}=g.getBoundingClientRect(),A=k.getBoundingClientRect(),L=A.top-m>=_,j=A.top<m;(L||j)&&(g.scrollTop+=A.top-m)},D=(0,s.hb)((n,l)=>{if(!l||!n)return;const g=n.querySelector('.rn-content-item[data-cid="'+l+'"]');if(!g)return;const{height:k,top:_}=n.getBoundingClientRect(),m=g.getBoundingClientRect(),A=m.top-_>=k,L=m.top<_;(A||L)&&(n.scrollTop+=m.top-_)},{timeout:500}),t=(n,l,g)=>{let{width:k,height:_,scale:m}=l,{top:A}=x({width:k,height:_,scale:m});const L=n.sort((q,J)=>J.widget.x+J.widget.w/2-(q.widget.x+q.widget.w/2)),{widget:{x:j,w:$}}=L[0];return g.length!==0&&(A=sdkStore.getHotKeyListAABB(g.map(q=>q.key))[1]),{left:j+$/2+50,top:A}},e=(n,l,g)=>{const k=sdkStore.getHotKeyListAABB(g.map(L=>L.key));let _=k[2],m=(0,b.Q5)(_,n),A;for(;;){if(!m||m[0]>_+l+50){A={x:_+50,y:k[1]};break}_=m[2],m=(0,b.Q5)(_,n)}return{left:A.x,top:A.y}},r=n=>u("#mobile-screen-tree",n),a=n=>u(".mb-preview-page .canvas-scroll-list",n),p=n=>u(".screen-list-container",n),o=n=>u(".mb-design-page #screen-scroll-list",n)},85991:()=>{/*! iScroll v5.2.0-snapshot ~ (c) 2008-2017 Matteo Spinelli ~ http://cubiq.org/license */(function(h,S,i){var b=h.requestAnimationFrame||h.webkitRequestAnimationFrame||h.mozRequestAnimationFrame||h.oRequestAnimationFrame||h.msRequestAnimationFrame||function(t){h.setTimeout(t,16.666666666666668)},s=function(){var t={},e=S.createElement("div").style,r=function(){for(var o=["t","webkitT","MozT","msT","OT"],n,l=0,g=o.length;l<g;l++)if(n=o[l]+"ransform",n in e)return o[l].substr(0,o[l].length-1);return!1}();function a(o){return r===!1?!1:r===""?o:r+o.charAt(0).toUpperCase()+o.substr(1)}t.getTime=Date.now||function(){return new Date().getTime()},t.extend=function(o,n){for(var l in n)o[l]=n[l]},t.addEvent=function(o,n,l,g){o.addEventListener(n,l,!!g)},t.removeEvent=function(o,n,l,g){o.removeEventListener(n,l,!!g)},t.prefixPointerEvent=function(o){return h.MSPointerEvent?"MSPointer"+o.charAt(7).toUpperCase()+o.substr(8):o},t.momentum=function(o,n,l,g,k,_){var m=o-n,A=i.abs(m)/l,L,j;return _=_===void 0?6e-4:_,L=o+A*A/(2*_)*(m<0?-1:1),j=A/_,L<g?(L=k?g-k/2.5*(A/8):g,m=i.abs(L-o),j=m/A):L>0&&(L=k?k/2.5*(A/8):0,m=i.abs(o)+L,j=m/A),{destination:i.round(L),duration:j}};var p=a("transform");return t.extend(t,{hasTransform:p!==!1,hasPerspective:a("perspective")in e,hasTouch:"ontouchstart"in h,hasPointer:!!(h.PointerEvent||h.MSPointerEvent),hasTransition:a("transition")in e}),t.isBadAndroid=function(){var o=h.navigator.appVersion;if(/Android/.test(o)&&!/Chrome\/\d/.test(o)){var n=o.match(/Safari\/(\d+.\d)/);return n&&typeof n=="object"&&n.length>=2?parseFloat(n[1])<535.19:!0}else return!1}(),t.extend(t.style={},{transform:p,transitionTimingFunction:a("transitionTimingFunction"),transitionDuration:a("transitionDuration"),transitionDelay:a("transitionDelay"),transformOrigin:a("transformOrigin"),touchAction:a("touchAction")}),t.hasClass=function(o,n){var l=new RegExp("(^|\\s)"+n+"(\\s|$)");return l.test(o.className)},t.addClass=function(o,n){if(!t.hasClass(o,n)){var l=o.className.split(" ");l.push(n),o.className=l.join(" ")}},t.removeClass=function(o,n){if(t.hasClass(o,n)){var l=new RegExp("(^|\\s)"+n+"(\\s|$)","g");o.className=o.className.replace(l," ")}},t.offset=function(o){for(var n=-o.offsetLeft,l=-o.offsetTop;o=o.offsetParent;)n-=o.offsetLeft,l-=o.offsetTop;return{left:n,top:l}},t.preventDefaultException=function(o,n){for(var l in n)if(n[l].test(o[l]))return!0;return!1},t.extend(t.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),t.extend(t.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(o){return o*(2-o)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(o){return i.sqrt(1- --o*o)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(o){var n=4;return(o=o-1)*o*((n+1)*o+n)+1}},bounce:{style:"",fn:function(o){return(o/=1)<1/2.75?7.5625*o*o:o<2/2.75?7.5625*(o-=1.5/2.75)*o+.75:o<2.5/2.75?7.5625*(o-=2.25/2.75)*o+.9375:7.5625*(o-=2.625/2.75)*o+.984375}},elastic:{style:"",fn:function(o){var n=.22,l=.4;return o===0?0:o==1?1:l*i.pow(2,-10*o)*i.sin((o-n/4)*(2*i.PI)/n)+1}}}),t.tap=function(o,n){var l=S.createEvent("Event");l.initEvent(n,!0,!0),l.pageX=o.pageX,l.pageY=o.pageY,o.target.dispatchEvent(l)},t.click=function(o){var n=o.target,l;/(SELECT|INPUT|TEXTAREA)/i.test(n.tagName)||(l=S.createEvent(h.MouseEvent?"MouseEvents":"Event"),l.initEvent("click",!0,!0),l.view=o.view||h,l.detail=1,l.screenX=n.screenX||0,l.screenY=n.screenY||0,l.clientX=n.clientX||0,l.clientY=n.clientY||0,l.ctrlKey=!!o.ctrlKey,l.altKey=!!o.altKey,l.shiftKey=!!o.shiftKey,l.metaKey=!!o.metaKey,l.button=0,l.relatedTarget=null,l._constructed=!0,n.dispatchEvent(l))},t.getTouchAction=function(o,n){var l="none";return o==="vertical"?l="pan-y":o==="horizontal"&&(l="pan-x"),n&&l!="none"&&(l+=" pinch-zoom"),l},t.getRect=function(o){if(o instanceof SVGElement){var n=o.getBoundingClientRect();return{top:n.top,left:n.left,width:n.width,height:n.height}}else return{top:o.offsetTop,left:o.offsetLeft,width:o.offsetWidth,height:o.offsetHeight}},t}();function x(t,e){this.wrapper=typeof t=="string"?S.querySelector(t):t,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,disablePointer:!s.hasPointer,disableTouch:s.hasPointer||!s.hasTouch,disableMouse:s.hasPointer||s.hasTouch,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:typeof h.onmousedown>"u"};for(var r in e)this.options[r]=e[r];this.translateZ=this.options.HWCompositing&&s.hasPerspective?" translateZ(0)":"",this.options.useTransition=s.hasTransition&&this.options.useTransition,this.options.useTransform=s.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY=this.options.eventPassthrough=="vertical"?!1:this.options.scrollY,this.options.scrollX=this.options.eventPassthrough=="horizontal"?!1:this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing=typeof this.options.bounceEasing=="string"?s.ease[this.options.bounceEasing]||s.ease.circular:this.options.bounceEasing,this.options.resizePolling=this.options.resizePolling===void 0?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),!this.options.useTransition&&!this.options.useTransform&&(/relative|absolute/i.test(this.scrollerStyle.position)||(this.scrollerStyle.position="relative")),this.options.shrinkScrollbars=="scale"&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.options.probeType==3&&(this.options.useTransition=!1),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}x.prototype={version:"5.2.0-snapshot",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),clearTimeout(this.resizeTimeout),this.resizeTimeout=null,this._execEvent("destroy")},_transitionEnd:function(t){t.target!=this.scroller||!this.isInTransition||(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(t){if(s.eventType[t.type]!=1){var e;if(t.which?e=t.button:e=t.button<2?0:t.button==4?1:2,e!==0)return}if(!(!this.enabled||this.initiated&&s.eventType[t.type]!==this.initiated)&&!(this.options.ignoreEventException&&this.options.ignoreEventException(t))){this.options.preventDefault&&!s.isBadAndroid&&!s.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();var r=t.touches?t.touches[0]:t,a;this.initiated=s.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this.startTime=s.getTime(),this.options.useTransition&&this.isInTransition?(this._transitionTime(),this.isInTransition=!1,a=this.getComputedPosition(),this._translate(i.round(a.x),i.round(a.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=r.pageX,this.pointY=r.pageY,this._execEvent("beforeScrollStart")}},_move:function(t){if(!(!this.enabled||s.eventType[t.type]!==this.initiated)&&!(this.options.ignoreEventException&&this.options.ignoreEventException(t))){this.options.preventDefault&&t.preventDefault();var e=t.touches?t.touches[0]:t,r=e.pageX-this.pointX,a=e.pageY-this.pointY,p=s.getTime(),o,n,l,g;if(this.pointX=e.pageX,this.pointY=e.pageY,this.distX+=r,this.distY+=a,l=i.abs(this.distX),g=i.abs(this.distY),!(p-this.endTime>300&&l<10&&g<10)){if(!this.directionLocked&&!this.options.freeScroll&&(l>g+this.options.directionLockThreshold?this.directionLocked="h":g>=l+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),this.directionLocked=="h"){if(this.options.eventPassthrough=="vertical")t.preventDefault();else if(this.options.eventPassthrough=="horizontal"){this.initiated=!1;return}a=0}else if(this.directionLocked=="v"){if(this.options.eventPassthrough=="horizontal")t.preventDefault();else if(this.options.eventPassthrough=="vertical"){this.initiated=!1;return}r=0}r=this.hasHorizontalScroll?r:0,a=this.hasVerticalScroll?a:0,o=this.x+r,n=this.y+a,(o>0||o<this.maxScrollX)&&(o=this.options.bounce?this.x+r/3:o>0?0:this.maxScrollX),(n>0||n<this.maxScrollY)&&(n=this.options.bounce?this.y+a/3:n>0?0:this.maxScrollY),this.directionX=r>0?-1:r<0?1:0,this.directionY=a>0?-1:a<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(o,n),p-this.startTime>300&&(this.startTime=p,this.startX=this.x,this.startY=this.y,this.options.probeType==1&&this._execEvent("scroll")),this.options.probeType>1&&this._execEvent("scroll")}}},_end:function(t){if(!(!this.enabled||s.eventType[t.type]!==this.initiated)){this.options.preventDefault&&!s.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();var e=t.changedTouches?t.changedTouches[0]:t,r,a,p=s.getTime()-this.startTime,o=i.round(this.x),n=i.round(this.y),l=i.abs(o-this.startX),g=i.abs(n-this.startY),k=0,_="";if(this.isInTransition=0,this.initiated=0,this.endTime=s.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(o,n),!this.moved){this.options.tap&&s.tap(t,this.options.tap),this.options.click&&s.click(t),this._execEvent("scrollCancel");return}if(this._events.flick&&p<200&&l<100&&g<100){this._execEvent("flick");return}if(this.options.momentum&&p<300&&(r=this.hasHorizontalScroll?s.momentum(this.x,this.startX,p,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:o,duration:0},a=this.hasVerticalScroll?s.momentum(this.y,this.startY,p,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:n,duration:0},o=r.destination,n=a.destination,k=i.max(r.duration,a.duration),this.isInTransition=1),this.options.snap){var m=this._nearestSnap(o,n);this.currentPage=m,k=this.options.snapSpeed||i.max(i.max(i.min(i.abs(o-m.x),1e3),i.min(i.abs(n-m.y),1e3)),300),o=m.x,n=m.y,this.directionX=0,this.directionY=0,_=this.options.bounceEasing}if(o!=this.x||n!=this.y){(o>0||o<this.maxScrollX||n>0||n<this.maxScrollY)&&(_=s.ease.quadratic),this.scrollTo(o,n,k,_);return}this._execEvent("scrollEnd")}}},_resize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},resetPosition:function(t){var e=this.x,r=this.y;return t=t||0,!this.hasHorizontalScroll||this.x>0?e=0:this.x<this.maxScrollX&&(e=this.maxScrollX),!this.hasVerticalScroll||this.y>0?r=0:this.y<this.maxScrollY&&(r=this.maxScrollY),e==this.x&&r==this.y?!1:(this.scrollTo(e,r,t,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){s.getRect(this.wrapper),this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight;var t=s.getRect(this.scroller);this.scrollerWidth=t.width,this.scrollerHeight=t.height,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,s.hasPointer&&!this.options.disablePointer&&(this.wrapper.style[s.style.touchAction]=s.getTouchAction(this.options.eventPassthrough,!0),this.wrapper.style[s.style.touchAction]||(this.wrapper.style[s.style.touchAction]=s.getTouchAction(this.options.eventPassthrough,!1))),this.wrapperOffset=s.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},off:function(t,e){if(this._events[t]){var r=this._events[t].indexOf(e);r>-1&&this._events[t].splice(r,1)}},_execEvent:function(t){if(this._events[t]){var e=0,r=this._events[t].length;if(r)for(;e<r;e++)this._events[t][e].apply(this,[].slice.call(arguments,1))}},scrollBy:function(t,e,r,a){t=this.x+t,e=this.y+e,r=r||0,this.scrollTo(t,e,r,a)},scrollTo:function(t,e,r,a){a=a||s.ease.circular,this.isInTransition=this.options.useTransition&&r>0;var p=this.options.useTransition&&a.style;!r||p?(p&&(this._transitionTimingFunction(a.style),this._transitionTime(r)),this._translate(t,e)):this._animate(t,e,r,a.fn)},scrollToElement:function(t,e,r,a,p){if(t=t.nodeType?t:this.scroller.querySelector(t),!!t){var o=s.offset(t);o.left-=this.wrapperOffset.left,o.top-=this.wrapperOffset.top;var n=s.getRect(t),l=s.getRect(this.wrapper);r===!0&&(r=i.round(n.width/2-l.width/2)),a===!0&&(a=i.round(n.height/2-l.height/2)),o.left-=r||0,o.top-=a||0,o.left=o.left>0?0:o.left<this.maxScrollX?this.maxScrollX:o.left,o.top=o.top>0?0:o.top<this.maxScrollY?this.maxScrollY:o.top,e=e==null||e==="auto"?i.max(i.abs(this.x-o.left),i.abs(this.y-o.top)):e,this.scrollTo(o.left,o.top,e,p)}},_transitionTime:function(t){if(this.options.useTransition){t=t||0;var e=s.style.transitionDuration;if(e){if(this.scrollerStyle[e]=t+"ms",!t&&s.isBadAndroid){this.scrollerStyle[e]="0.0001ms";var r=this;b(function(){r.scrollerStyle[e]==="0.0001ms"&&(r.scrollerStyle[e]="0s")})}if(this.indicators)for(var a=this.indicators.length;a--;)this.indicators[a].transitionTime(t)}}},_transitionTimingFunction:function(t){if(this.scrollerStyle[s.style.transitionTimingFunction]=t,this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTimingFunction(t)},_translate:function(t,e){if(this.options.useTransform?this.scrollerStyle[s.style.transform]="translate("+t+"px,"+e+"px)"+this.translateZ:(t=i.round(t),e=i.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.x=t,this.y=e,this.indicators)for(var r=this.indicators.length;r--;)this.indicators[r].updatePosition()},_initEvents:function(t){var e=t?s.removeEvent:s.addEvent,r=this.options.bindToWrapper?this.wrapper:h;e(h,"orientationchange",this),e(h,"resize",this),this.options.click&&e(this.wrapper,"click",this,!0),this.options.disableMouse||(e(this.wrapper,"mousedown",this),e(r,"mousemove",this),e(r,"mousecancel",this),e(r,"mouseup",this)),s.hasPointer&&!this.options.disablePointer&&(e(this.wrapper,s.prefixPointerEvent("pointerdown"),this),e(r,s.prefixPointerEvent("pointermove"),this),e(r,s.prefixPointerEvent("pointercancel"),this),e(r,s.prefixPointerEvent("pointerup"),this)),s.hasTouch&&!this.options.disableTouch&&(e(this.wrapper,"touchstart",this),e(r,"touchmove",this),e(r,"touchcancel",this),e(r,"touchend",this)),e(this.scroller,"transitionend",this),e(this.scroller,"webkitTransitionEnd",this),e(this.scroller,"oTransitionEnd",this),e(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var t=h.getComputedStyle(this.scroller,null),e,r;return this.options.useTransform?(t=t[s.style.transform].split(")")[0].split(", "),e=+(t[12]||t[4]),r=+(t[13]||t[5])):(e=+t.left.replace(/[^-\d.]/g,""),r=+t.top.replace(/[^-\d.]/g,"")),{x:e,y:r}},_initIndicators:function(){var t=this.options.interactiveScrollbars,e=typeof this.options.scrollbars!="string",r=[],a,p=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(a={el:u("v",t,this.options.scrollbars),interactive:t,defaultScrollbars:!0,customStyle:e,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(a.el),r.push(a)),this.options.scrollX&&(a={el:u("h",t,this.options.scrollbars),interactive:t,defaultScrollbars:!0,customStyle:e,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(a.el),r.push(a))),this.options.indicators&&(r=r.concat(this.options.indicators));for(var o=r.length;o--;)this.indicators.push(new D(this,r[o]));function n(l){if(p.indicators)for(var g=p.indicators.length;g--;)l.call(p.indicators[g])}this.options.fadeScrollbars&&(this.on("scrollEnd",function(){n(function(){this.fade()})}),this.on("scrollCancel",function(){n(function(){this.fade()})}),this.on("scrollStart",function(){n(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){n(function(){this.fade(1,!0)})})),this.on("refresh",function(){n(function(){this.refresh()})}),this.on("destroy",function(){n(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){s.addEvent(this.wrapper,"wheel",this),s.addEvent(this.wrapper,"mousewheel",this),s.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){clearTimeout(this.wheelTimeout),this.wheelTimeout=null,s.removeEvent(this.wrapper,"wheel",this),s.removeEvent(this.wrapper,"mousewheel",this),s.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(t){if(this.enabled){if(t.metaKey||t.ctrlKey||t.buttons===4)return!0;t.preventDefault();var e,r,a,p,o=this;if(this.wheelTimeout===void 0&&o._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){o.options.snap||o._execEvent("scrollEnd"),o.wheelTimeout=void 0},400),"deltaX"in t)t.deltaMode===1?(e=-t.deltaX*this.options.mouseWheelSpeed,r=-t.deltaY*this.options.mouseWheelSpeed):(e=-t.deltaX,r=-t.deltaY);else if("wheelDeltaX"in t)e=t.wheelDeltaX/120*this.options.mouseWheelSpeed,r=t.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in t)e=r=t.wheelDelta/120*this.options.mouseWheelSpeed;else if("detail"in t)e=r=-t.detail/3*this.options.mouseWheelSpeed;else return;if(e*=this.options.invertWheelDirection,r*=this.options.invertWheelDirection,this.options.snap){a=this.currentPage.pageX,p=this.currentPage.pageY,e>0?a--:e<0&&a++,r>0?p--:r<0&&p++,this.goToPage(a,p);return}a=this.x+i.round(this.hasHorizontalScroll?e:0),p=this.y+i.round(this.hasVerticalScroll?r:0),this.directionX=e>0?-1:e<0?1:0,this.directionY=r>0?-1:r<0?1:0,a>0?a=0:a<this.maxScrollX&&(a=this.maxScrollX),p>0?p=0:p<this.maxScrollY&&(p=this.maxScrollY),this.scrollTo(a,p,0),this.options.probeType>1&&this._execEvent("scroll")}},_initSnap:function(){this.currentPage={},typeof this.options.snap=="string"&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var t=0,e,r=0,a,p,o,n=0,l,g=this.options.snapStepX||this.wrapperWidth,k=this.options.snapStepY||this.wrapperHeight,_,m;if(this.pages=[],!(!this.wrapperWidth||!this.wrapperHeight||!this.scrollerWidth||!this.scrollerHeight)){if(this.options.snap===!0)for(p=i.round(g/2),o=i.round(k/2);n>-this.scrollerWidth;){for(this.pages[t]=[],e=0,l=0;l>-this.scrollerHeight;)this.pages[t][e]={x:i.max(n,this.maxScrollX),y:i.max(l,this.maxScrollY),width:g,height:k,cx:n-p,cy:l-o},l-=k,e++;n-=g,t++}else for(_=this.options.snap,e=_.length,a=-1;t<e;t++)m=s.getRect(_[t]),(t===0||m.left<=s.getRect(_[t-1]).left)&&(r=0,a++),this.pages[r]||(this.pages[r]=[]),n=i.max(-m.left,this.maxScrollX),l=i.max(-m.top,this.maxScrollY),p=n-i.round(m.width/2),o=l-i.round(m.height/2),this.pages[r][a]={x:n,y:l,width:m.width,height:m.height,cx:p,cy:o},n>this.maxScrollX&&r++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var t=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.x-this.startX),1e3),i.min(i.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,t)})},_nearestSnap:function(t,e){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var r=0,a=this.pages.length,p=0;if(i.abs(t-this.absStartX)<this.snapThresholdX&&i.abs(e-this.absStartY)<this.snapThresholdY)return this.currentPage;for(t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX),e>0?e=0:e<this.maxScrollY&&(e=this.maxScrollY);r<a;r++)if(t>=this.pages[r][0].cx){t=this.pages[r][0].x;break}for(a=this.pages[r].length;p<a;p++)if(e>=this.pages[0][p].cy){e=this.pages[0][p].y;break}return r==this.currentPage.pageX&&(r+=this.directionX,r<0?r=0:r>=this.pages.length&&(r=this.pages.length-1),t=this.pages[r][0].x),p==this.currentPage.pageY&&(p+=this.directionY,p<0?p=0:p>=this.pages[0].length&&(p=this.pages[0].length-1),e=this.pages[0][p].y),{x:t,y:e,pageX:r,pageY:p}},goToPage:function(t,e,r,a){a=a||this.options.bounceEasing,t>=this.pages.length?t=this.pages.length-1:t<0&&(t=0),e>=this.pages[t].length?e=this.pages[t].length-1:e<0&&(e=0);var p=this.pages[t][e].x,o=this.pages[t][e].y;r=r===void 0?this.options.snapSpeed||i.max(i.max(i.min(i.abs(p-this.x),1e3),i.min(i.abs(o-this.y),1e3)),300):r,this.currentPage={x:p,y:o,pageX:t,pageY:e},this.scrollTo(p,o,r,a)},next:function(t,e){var r=this.currentPage.pageX,a=this.currentPage.pageY;r++,r>=this.pages.length&&this.hasVerticalScroll&&(r=0,a++),this.goToPage(r,a,t,e)},prev:function(t,e){var r=this.currentPage.pageX,a=this.currentPage.pageY;r--,r<0&&this.hasVerticalScroll&&(r=0,a--),this.goToPage(r,a,t,e)},_initKeys:function(t){var e={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40},r;if(typeof this.options.keyBindings=="object")for(r in this.options.keyBindings)typeof this.options.keyBindings[r]=="string"&&(this.options.keyBindings[r]=this.options.keyBindings[r].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(r in e)this.options.keyBindings[r]=this.options.keyBindings[r]||e[r];s.addEvent(h,"keydown",this),this.on("destroy",function(){s.removeEvent(h,"keydown",this)})},_key:function(t){if(this.enabled){var e=this.options.snap,r=e?this.currentPage.pageX:this.x,a=e?this.currentPage.pageY:this.y,p=s.getTime(),o=this.keyTime||0,n=.25,l;switch(this.options.useTransition&&this.isInTransition&&(l=this.getComputedPosition(),this._translate(i.round(l.x),i.round(l.y)),this.isInTransition=!1),this.keyAcceleration=p-o<200?i.min(this.keyAcceleration+n,50):0,t.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?r+=e?1:this.wrapperWidth:a+=e?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?r-=e?1:this.wrapperWidth:a-=e?1:this.wrapperHeight;break;case this.options.keyBindings.end:r=e?this.pages.length-1:this.maxScrollX,a=e?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:r=0,a=0;break;case this.options.keyBindings.left:r+=e?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:a+=e?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:r-=e?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:a-=e?1:5+this.keyAcceleration>>0;break;default:return}if(e){this.goToPage(r,a);return}r>0?(r=0,this.keyAcceleration=0):r<this.maxScrollX&&(r=this.maxScrollX,this.keyAcceleration=0),a>0?(a=0,this.keyAcceleration=0):a<this.maxScrollY&&(a=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(r,a,0),this.keyTime=p}},_animate:function(t,e,r,a){var p=this,o=this.x,n=this.y,l=s.getTime(),g=l+r;function k(){var _=s.getTime(),m,A,L;if(_>=g){p.isAnimating=!1,p._translate(t,e),p.resetPosition(p.options.bounceTime)||p._execEvent("scrollEnd");return}_=(_-l)/r,L=a(_),m=(t-o)*L+o,A=(e-n)*L+n,p._translate(m,A),p.isAnimating&&b(k),p.options.probeType==3&&p._execEvent("scroll")}this.isAnimating=!0,k()},handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"keydown":this._key(t);break;case"click":this.enabled&&!t._constructed&&(t.preventDefault(),t.stopPropagation());break}}};function u(t,e,r){var a=S.createElement("div"),p=S.createElement("div");return r===!0&&(a.style.cssText="position:absolute;z-index:9999",p.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),p.className="iScrollIndicator",t=="h"?(r===!0&&(a.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",p.style.height="100%"),a.className="iScrollHorizontalScrollbar"):(r===!0&&(a.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",p.style.width="100%"),a.className="iScrollVerticalScrollbar"),a.style.cssText+=";overflow:hidden",e||(a.style.pointerEvents="none"),a.appendChild(p),a}function D(t,e){this.wrapper=typeof e.el=="string"?S.querySelector(e.el):e.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=t,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var r in e)this.options[r]=e[r];if(this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(s.addEvent(this.indicator,"touchstart",this),s.addEvent(h,"touchend",this)),this.options.disablePointer||(s.addEvent(this.indicator,s.prefixPointerEvent("pointerdown"),this),s.addEvent(h,s.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(s.addEvent(this.indicator,"mousedown",this),s.addEvent(h,"mouseup",this))),this.options.fade){this.wrapperStyle[s.style.transform]=this.scroller.translateZ;var a=s.style.transitionDuration;if(!a)return;this.wrapperStyle[a]=s.isBadAndroid?"0.0001ms":"0ms";var p=this;s.isBadAndroid&&b(function(){p.wrapperStyle[a]==="0.0001ms"&&(p.wrapperStyle[a]="0s")}),this.wrapperStyle.opacity="0"}}D.prototype={handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t);break}},destroy:function(){this.options.fadeScrollbars&&(clearTimeout(this.fadeTimeout),this.fadeTimeout=null),this.options.interactive&&(s.removeEvent(this.indicator,"touchstart",this),s.removeEvent(this.indicator,s.prefixPointerEvent("pointerdown"),this),s.removeEvent(this.indicator,"mousedown",this),s.removeEvent(h,"touchmove",this),s.removeEvent(h,s.prefixPointerEvent("pointermove"),this),s.removeEvent(h,"mousemove",this),s.removeEvent(h,"touchend",this),s.removeEvent(h,s.prefixPointerEvent("pointerup"),this),s.removeEvent(h,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(t){var e=t.touches?t.touches[0]:t;t.preventDefault(),t.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=e.pageX,this.lastPointY=e.pageY,this.startTime=s.getTime(),this.options.disableTouch||s.addEvent(h,"touchmove",this),this.options.disablePointer||s.addEvent(h,s.prefixPointerEvent("pointermove"),this),this.options.disableMouse||s.addEvent(h,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(t){var e=t.touches?t.touches[0]:t,r,a,p,o,n=s.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,r=e.pageX-this.lastPointX,this.lastPointX=e.pageX,a=e.pageY-this.lastPointY,this.lastPointY=e.pageY,p=this.x+r,o=this.y+a,this._pos(p,o),this.scroller.options.probeType==1&&n-this.startTime>300?(this.startTime=n,this.scroller._execEvent("scroll")):this.scroller.options.probeType>1&&this.scroller._execEvent("scroll"),t.preventDefault(),t.stopPropagation()},_end:function(t){if(this.initiated){if(this.initiated=!1,t.preventDefault(),t.stopPropagation(),s.removeEvent(h,"touchmove",this),s.removeEvent(h,s.prefixPointerEvent("pointermove"),this),s.removeEvent(h,"mousemove",this),this.scroller.options.snap){var e=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),r=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.scroller.x-e.x),1e3),i.min(i.abs(this.scroller.y-e.y),1e3)),300);(this.scroller.x!=e.x||this.scroller.y!=e.y)&&(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=e,this.scroller.scrollTo(e.x,e.y,r,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(t){t=t||0;var e=s.style.transitionDuration;if(e&&(this.indicatorStyle[e]=t+"ms",!t&&s.isBadAndroid)){this.indicatorStyle[e]="0.0001ms";var r=this;b(function(){r.indicatorStyle[e]==="0.0001ms"&&(r.indicatorStyle[e]="0s")})}},transitionTimingFunction:function(t){this.indicatorStyle[s.style.transitionTimingFunction]=t},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(s.addClass(this.wrapper,"iScrollBothScrollbars"),s.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(s.removeClass(this.wrapper,"iScrollBothScrollbars"),s.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px")),s.getRect(this.wrapper),this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=i.max(i.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,this.options.shrink=="clip"?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=i.max(i.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.options.shrink=="clip"?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var t=this.options.listenX&&i.round(this.sizeRatioX*this.scroller.x)||0,e=this.options.listenY&&i.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(t<this.minBoundaryX?(this.options.shrink=="scale"&&(this.width=i.max(this.indicatorWidth+t,8),this.indicatorStyle.width=this.width+"px"),t=this.minBoundaryX):t>this.maxBoundaryX?this.options.shrink=="scale"?(this.width=i.max(this.indicatorWidth-(t-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",t=this.maxPosX+this.indicatorWidth-this.width):t=this.maxBoundaryX:this.options.shrink=="scale"&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),e<this.minBoundaryY?(this.options.shrink=="scale"&&(this.height=i.max(this.indicatorHeight+e*3,8),this.indicatorStyle.height=this.height+"px"),e=this.minBoundaryY):e>this.maxBoundaryY?this.options.shrink=="scale"?(this.height=i.max(this.indicatorHeight-(e-this.maxPosY)*3,8),this.indicatorStyle.height=this.height+"px",e=this.maxPosY+this.indicatorHeight-this.height):e=this.maxBoundaryY:this.options.shrink=="scale"&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=t,this.y=e,this.scroller.options.useTransform?this.indicatorStyle[s.style.transform]="translate("+t+"px,"+e+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=t+"px",this.indicatorStyle.top=e+"px")},_pos:function(t,e){t<0?t=0:t>this.maxPosX&&(t=this.maxPosX),e<0?e=0:e>this.maxPosY&&(e=this.maxPosY),t=this.options.listenX?i.round(t/this.sizeRatioX):this.scroller.x,e=this.options.listenY?i.round(e/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(t,e)},fade:function(t,e){if(!(e&&!this.visible)){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var r=t?250:500,a=t?0:300;t=t?"1":"0",this.wrapperStyle[s.style.transitionDuration]=r+"ms",this.fadeTimeout=setTimeout((function(p){this.wrapperStyle.opacity=p,this.visible=+p}).bind(this,t),a)}}},x.utils=s,h.IScroll=x})(window,document,Math)},16700:h=>{"use strict";h.exports=canvg},94994:h=>{"use strict";h.exports=dompurify},9820:h=>{"use strict";h.exports=html2canvas}},tt={};function P(h){var S=tt[h];if(S!==void 0)return S.exports;var i=tt[h]={id:h,loaded:!1,exports:{}};return Z[h].call(i.exports,i,i.exports,P),i.loaded=!0,i.exports}P.m=Z,P.amdO={},(()=>{var h=[];P.O=(S,i,b,s)=>{if(i){s=s||0;for(var x=h.length;x>0&&h[x-1][2]>s;x--)h[x]=h[x-1];h[x]=[i,b,s];return}for(var u=1/0,x=0;x<h.length;x++){for(var[i,b,s]=h[x],D=!0,t=0;t<i.length;t++)(s&!1||u>=s)&&Object.keys(P.O).every(n=>P.O[n](i[t]))?i.splice(t--,1):(D=!1,s<u&&(u=s));if(D){h.splice(x--,1);var e=b();e!==void 0&&(S=e)}}return S}})(),P.n=h=>{var S=h&&h.__esModule?()=>h.default:()=>h;return P.d(S,{a:S}),S},(()=>{var h=Object.getPrototypeOf?i=>Object.getPrototypeOf(i):i=>i.__proto__,S;P.t=function(i,b){if(b&1&&(i=this(i)),b&8||typeof i=="object"&&i&&(b&4&&i.__esModule||b&16&&typeof i.then=="function"))return i;var s=Object.create(null);P.r(s);var x={};S=S||[null,h({}),h([]),h(h)];for(var u=b&2&&i;typeof u=="object"&&!~S.indexOf(u);u=h(u))Object.getOwnPropertyNames(u).forEach(D=>x[D]=()=>i[D]);return x.default=()=>i,P.d(s,x),s}})(),P.d=(h,S)=>{for(var i in S)P.o(S,i)&&!P.o(h,i)&&Object.defineProperty(h,i,{enumerable:!0,get:S[i]})},P.f={},P.e=h=>Promise.all(Object.keys(P.f).reduce((S,i)=>(P.f[i](h,S),S),[])),P.u=h=>""+{214:"lazy-lib-paper",437:"lazy-lib-fontkit",703:"lazy-lib-rehype",956:"lazy-lib-i18n",976:"lazy-lib-dl"}[h]+"-"+{214:"652e1d1aaf5a025c5f3d",437:"c05f27c8c0bb64d649b9",703:"0e44dd6bc372502fe509",956:"9df26ec6ad5a2048026b",976:"df7058e941c9b6857595"}[h]+".js",P.miniCssF=h=>{},P.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(h){if(typeof window=="object")return window}}(),P.o=(h,S)=>Object.prototype.hasOwnProperty.call(h,S),(()=>{var h={},S="@mb2024/mb-proto:";P.l=(i,b,s,x)=>{if(h[i]){h[i].push(b);return}var u,D;if(s!==void 0)for(var t=document.getElementsByTagName("script"),e=0;e<t.length;e++){var r=t[e];if(r.getAttribute("src")==i||r.getAttribute("data-webpack")==S+s){u=r;break}}u||(D=!0,u=document.createElement("script"),u.charset="utf-8",u.timeout=120,P.nc&&u.setAttribute("nonce",P.nc),u.setAttribute("data-webpack",S+s),u.src=i),h[i]=[b];var a=(o,n)=>{u.onerror=u.onload=null,clearTimeout(p);var l=h[i];if(delete h[i],u.parentNode&&u.parentNode.removeChild(u),l&&l.forEach(g=>g(n)),o)return o(n)},p=setTimeout(a.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=a.bind(null,u.onerror),u.onload=a.bind(null,u.onload),D&&document.head.appendChild(u)}})(),P.r=h=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})},P.nmd=h=>(h.paths=[],h.children||(h.children=[]),h),P.j=699,P.p="/mb-proto2/",(()=>{var h={699:0};P.f.j=(b,s)=>{var x=P.o(h,b)?h[b]:void 0;if(x!==0)if(x)s.push(x[2]);else{var u=new Promise((r,a)=>x=h[b]=[r,a]);s.push(x[2]=u);var D=P.p+P.u(b),t=new Error,e=r=>{if(P.o(h,b)&&(x=h[b],x!==0&&(h[b]=void 0),x)){var a=r&&(r.type==="load"?"missing":r.type),p=r&&r.target&&r.target.src;t.message="Loading chunk "+b+" failed.\n("+a+": "+p+")",t.name="ChunkLoadError",t.type=a,t.request=p,x[1](t)}};P.l(D,e,"chunk-"+b,b)}},P.O.j=b=>h[b]===0;var S=(b,s)=>{var[x,u,D]=s,t,e,r=0;if(x.some(p=>h[p]!==0)){for(t in u)P.o(u,t)&&(P.m[t]=u[t]);if(D)var a=D(P)}for(b&&b(s);r<x.length;r++)e=x[r],P.o(h,e)&&h[e]&&h[e][0](),h[e]=0;return P.O(a)},i=self.webpackChunk_mb2024_mb_proto=self.webpackChunk_mb2024_mb_proto||[];i.forEach(S.bind(null,0)),i.push=S.bind(null,i.push.bind(i))})(),P.nc=void 0,P.O(void 0,[31,788,908,347],()=>P(23372));var Yt=P.O(void 0,[31,788,908,347],()=>P(42276));Yt=P.O(Yt)})();

//# sourceMappingURL=preview-html-zip-84f2f3fc273cfc0907c1.js.map